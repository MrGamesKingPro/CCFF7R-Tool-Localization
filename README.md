# Based on extracted files discimg.pkg & system.bin by 

[FModel](https://fmodel.app/)



# CCFF7R-Tool-Localization
tool unpacking, modifying, and repacking game files for Crisis Core Final Fantasy VII Reunion, primarily focusing on text localization and font customization.

Download the tool [CCFF7R-Tool-Localization](https://github.com/MrGamesKingPro/CCFF7R-Tool-Localization/releases/tag/CCFF7R-Tool-Localization)


## how to use the tool:

**1. Overview**

The tool helps you:
*   **Unpack** game data files (`discimg.pkg`, `system.bin`) to extract text into editable CSV files.
*   **Edit** the extracted text using any CSV editor (like Notepad, Excel, Google Sheets, LibreOffice Calc).
*   **Process** a custom font file (`.ttf`).
*   **Pack** your modified text and custom font back into files ready to be used as a game mod.
*   **Clean up** intermediate files generated during the process.

**2. Setup & Prerequisites**

Correct folder structure and file placement are crucial for the tool to work.

    *   This `tools` folder must contain all the necessary executable files (`.exe`) listed in the script (e.g., `unpack_discimg_tx.exe`, `pack_system_txt.exe`, etc.). The tool will check for these at startup and warn you if any are missing.

*   **Input Game Files:**
    *   Place the original `discimg.pkg` file here:
        `tools/discimg_orig/discimg.pkg`
    *   Place the original `system.bin` file here:
        `tools/system_orig/system.bin`

*   **Custom Font File (Optional):**
    *   If you want to change the game's font`.
    *   Place your custom TrueType Font file (e.g., `example_font.ttf` or `your_custom_font.ttf`) inside this `Font` folder. The tool will look for a `.ttf` file here during the packing process. The script checks for `example_font.ttf` in its initial message, but `process_font.exe` likely picks up any `.ttf` in that folder.


**3. Step-by-Step Usage**

The GUI has several buttons:

*   **`UNPACK Files`**
    1.  **Action:** Click this button to start the unpacking process.
    2.  **Process:** The tool will execute a sequence of commands:
        *   `unpack_discimg_tx.exe`: Unpacks `discimg.pkg`.
        *   `unpack_system_tx.exe`: Unpacks `system.bin`.
        *   `process_csvs.exe`: Processes the unpacked data into CSV files.
    3.  **Output:**
        *   You will get CSV files containing the game's text. These are typically generated in subfolders within the `tools` directory, such as `tools/_csv_discimg/` and `tools/_csv_system/`.
        *   The GUI output area will show the progress and any messages from the tools.

*   **Editing Text Files (Manual Step)**
    1.  Navigate to the folders where the CSV files were created (e.g., `tools/_csv_discimg/`, `tools/_csv_system/`).
    2.  Open the `.csv` files using a text editor (like Notepad++), or a spreadsheet program (like Microsoft Excel, LibreOffice Calc, Google Sheets).
        *   **Important:** If using a spreadsheet program, ensure you save the files correctly as CSV (Comma Separated Values) with UTF-8 encoding if possible, to maintain special characters for different languages.
    3.  Edit the text as needed for your localization or mod.

*   **`PACK Files & Process Font`**
    1.  **Prerequisites:**
        *   Ensure your edited CSV files are saved in their respective locations (where they were generated during unpack).
        *   If you're using a custom font, ensure your `.ttf` file is in the `[YourToolFolder]/Font/` directory.
    2.  **Action:** Click this button to pack your changes and process the font.
    3.  **Process:** The tool will execute commands to:
        *   Convert your edited CSVs back to an intermediate format (`csv_to_mbd_discimg.exe`, `csv_to_mbd_system.exe`).
        *   Pack the modified text data (`pack_discimg_txt.exe`, `pack_system_txt.exe`).
        *   Process your custom font file (`process_font.exe`).
    4.  **Output:**
        *   The tool aims to produce a "ready-made packing folder" named `pakchunkMrGamesKingPro` (as stated in the initial GUI message). This folder will contain your modified text and font, structured for use as a game mod. The constituent parts (`_output_pkg`, `_output_bin`, `_output_font`) are generated within the `tools` directory, and `process_font.exe` likely assembles the final mod structure.
        *   Monitor the GUI output area for progress and completion messages.

*   **`Clean Folders`**
    1.  **Action:** Click this button to remove intermediate files and some output folders generated by the tool.
    2.  **Purpose:** This is useful if you want to start fresh, clear up disk space, or resolve issues caused by old files.
    3.  **Folders Cleaned (contents deleted, not the folders themselves usually):**
        *   `tools/discimg`
        *   `tools/system`
        *   `tools/_csv_discimg`
        *   `tools/_csv_system`
        *   `tools/_mbd_discimg`
        *   `tools/_mbd_system`
        *   `tools/_output_pkg`
        *   `tools/_output_bin`
        *   `tools/_output_font`

*   **`Clear Output`**
    1.  **Action:** Click this button to clear all text from the log/output area in the GUI.
    2.  **Purpose:** Useful for clearing previous logs before starting a new operation. The initial instructional message will be re-displayed.

**4. Understanding the GUI Output Area**

*   The large text area at the bottom of the GUI displays real-time logs, progress updates, and messages from the tools.
*   Messages are color-coded for easier understanding:
    *   **`INFO` (Cyan):** General information, start/end of sequences.
    *   **`PROGRESS` (Yellow, Bold):** Progress updates from tools (e.g., "UNPACKING discimg.pkg: file X of Y").
    *   **`NORMAL_OUTPUT` (Light Gray):** Standard output from the command-line tools.
    *   **`STDERR_RAW` (Light Coral):** Raw error stream output from tools, not always an actual error.
    *   **`SUCCESS` (Green):** Successful completion of operations.
    *   **`ERROR` (Red, Bold):** Errors encountered during operations.
    *   **`WARNING` (Orange):** Warnings or non-critical issues.
    *   **`IMPORTANT_INFO` (Light Green, Bold):** Key instructions, like the initial setup message.

**5. Troubleshooting**

*   **Missing Tools:** If any of the required `.exe` files are missing from the `tools` directory, the application will show a warning at startup. The corresponding operations will likely fail. Ensure all tools are present.
*   **File Not Found Errors:** Double-check that your input files (`discimg.pkg`, `system.bin`) are in the correct `tools/discimg_orig/` and `tools/system_orig/` subdirectories.
*   **Incorrect Output:** If the packed files don't work as expected, ensure your CSV edits were saved correctly (especially encoding if using spreadsheet software) and that the custom font file is valid.
*   **Permissions:** Ensure the tool has permission to read/write files in its directory and subdirectories.

By following these steps, you should be able to use the "CCFF7R Tool Localization" to modify game text and fonts for Crisis Core Final Fantasy VII Reunion. Always back up your original game files before applying any mods.
